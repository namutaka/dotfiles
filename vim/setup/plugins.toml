# vim toml

[[plugins]]
repo = 'Shougo/dein.vim'

[[plugins]]
repo = 'glacambre/firenvim'
if   = 'has("nvim")'
hook_post_update = 'firenvim#install(0)'
hook_add = '''
if exists('g:started_by_firenvim')
  augroup Firenvim
    au BufEnter * set guifont=Monaco:h18
  augroup END

  let s:firevim_auto_write = { 'timer_id': v:null }
  function! s:firevim_auto_write.inner_write(timer) abort
    let self.timer_id = v:null
    write
  endfunction

  function! s:firevim_auto_write.write() abort
    if self.timer_id != v:null
      echom self.timer_id
      call timer_stop(self.timer_id)
      let self.timer_id = v:null
    end

    let self.timer_id = timer_start(3000, s:firevim_auto_write.inner_write)
  endfunction

  autocmd TextChanged * ++nested call s:firevim_auto_write.write()
  autocmd TextChangedI * ++nested call s:firevim_auto_write.write()
endif
'''
lua_source ='''
vim.g.firenvim_config = {
    globalSettings = {
      alt = "all",
    },
    localSettings = {
        [".*"] = {
          selector = "",
          priority = 0,
        },
        [".*github.com.*"] = {
            cmdline  = "neovim",
            content  = "text",
            priority = 1,
            selector = "textarea",
            takeover = "always"
        }
    }
}
'''

[[plugins]]
repo = 'vim-airline/vim-airline'
hook_source = '''
let g:airline_theme='dark'
let g:airline#extensions#coc#enabled = 1
'''

[[plugins]]
repo = 'vim-airline/vim-airline-themes'

[[plugins]]
# ファイルリストビュー
repo = 'scrooloose/nerdtree'
hook_add = '''
nnoremap <Leader><Leader> :NERDTreeToggle<CR>
'''

[[plugins]]
# Git操作
repo = 'tpope/vim-fugitive'

[[plugins]]
repo = 'lewis6991/gitsigns.nvim'
if   = 'has("nvim")'
lua_add = '''
require('gitsigns').setup()
'''

[[plugins]]
# ファイルタイプ判定
repo = 'Shougo/context_filetype.vim'

[[plugins]]
# 非同期処理用
repo = 'Shougo/vimproc.vim'
build  = 'make'

[[plugins]]
# operator-replaceの前提
repo = 'kana/vim-operator-user'

[[plugins]]
# RwなどでYankしてるもので置き換える
repo = 'kana/vim-operator-replace'
depends = ['vim-operator-user']
hook_add = '''
nmap <C-p> <Plug>(operator-replace)
'''

[[plugins]]
# Ysurround
# s, ssで選択範囲を指定文字でくくる
repo = 'tpope/vim-surround'
hook_add = '''
nmap s <Plug>Ysurround
nmap ss <Plug>Yssurround
'''

[[plugins]]
# easy-align
repo = 'junegunn/vim-easy-align'
hook_add = '''
" Start interactive EasyAlign in visual mode (e.g. vipga)
xmap <ENTER> <Plug>(EasyAlign)

" Start interactive EasyAlign for a motion/text object (e.g. gaip)
" nmap ga <Plug>(EasyAlign)
'''

[[plugins]]
# open-blowser.vim
repo = 'tyru/open-browser.vim'
hook_add = '''
" カーソル下のURLをブラウザで開く
nmap fu <Plug>(openbrowser-open)
vmap fu <Plug>(openbrowser-open)
" カーソル下のキーワードをググる
nnoremap fs :<C-u>OpenBrowserSearch<Space><C-r><C-w><CR>
vnoremap fs "xy:<C-u>OpenBrowserSearch<Space><C-R>x<CR>
'''


[[plugins]]
# QuickRun
repo = 'thinca/vim-quickrun'
hook_add = '''
let g:quickrun_config = {}
let g:quickrun_config['_'] = {
\  'split' : '',
\  'runner' : 'vimproc',
\  'runner/vimproc/updatetime' : 60
\}
let g:quickrun_config['ruby.rspec'] = {'command': 'bundle', 'cmdopt': ' exec rspec -f d',}
let g:quickrun_config['ruby.test'] = {'command': 'ruby', 'cmdopt': '-I test', 'runmode' : 'async:vimproc'}
let g:quickrun_config['ruby.runner'] = {'command': 'ruby', 'cmdopt': './script/runner', 'runmode' : 'async:vimproc'}
let g:quickrun_config['ruby.bundle'] = { 'command': 'ruby', 'cmdopt': 'bundle exec', 'exec': '%o %c %s' }
let g:quickrun_config['java'] = {
\   'exec': ['javac -encoding utf-8 %o %s', '%c %s:t:r %a', ':call delete("%S:t:r.class")'],
\   'output_encode': '&termencoding',
\ }
let g:quickrun_config['python.android'] = {'command' : 'monkeyrunner' }
let g:quickrun_config['coffee.compile'] = {'command' : 'coffee', 'cmdopt' : '-bpc'}
let g:quickrun_config['javascript'] = {'type' : 'javascript/nodejs'}

augroup RubyTest
  autocmd!
  autocmd BufWinEnter,BufNewFile *_test.rb set filetype=ruby.test
  autocmd BufWinEnter,BufNewFile *_spec.rb set filetype=ruby.rspec
augroup END

" quick-vim
nnoremap <Leader>r <Plug>(quickrun)
vnoremap <Leader>r <Plug>(quickrun)

'''

[[plugins]]
# Coc : VSCode的なオートコンプリート & LSP & lint
# https://github.com/neoclide/coc.nvim
repo = 'neoclide/coc.nvim'
source = 'release'
build = 'coc#util#install()'
hook_add = '''

" config ファイルの場所(nvimとvimで共通にするため)
let g:coc_config_home = expand('~/.config/nvim')

" coc.nvimでのバグ回避(https://github.com/neoclide/coc.nvim/issues/649)
set nowritebackup

" Enterキーで補完を確定させる
" Make <CR> to accept selected completion item or notify coc.nvim to format
" <C-g>u breaks current undo, please make your own choice.
inoremap <silent><expr> <CR> coc#pum#visible() ? coc#pum#confirm()
                              \: "\<C-g>u\<CR>\<c-r>=coc#on_enter()\<CR>"


" タブで補完メニューのカーソル移動。また、補完メニューを開く
inoremap <silent><expr> <TAB>
      \ coc#pum#visible() ? coc#pum#next(1) :
      \ CheckBackspace() ? "\<Tab>" :
      \ coc#refresh()"
inoremap <expr><S-TAB> coc#pum#visible() ? coc#pum#prev(1) : "\<C-h>"

function! CheckBackspace() abort
  let col = col('.') - 1
  return !col || getline('.')[col - 1]  =~# '\s'
endfunction

" Use <c-space> to trigger completion.
inoremap <silent><expr> <c-space> coc#refresh()

" Use `[g` and `]g` to navigate diagnostics
" Use `:CocDiagnostics` to get all diagnostics of current buffer in location list.
nmap <silent> [g <Plug>(coc-diagnostic-prev)
nmap <silent> ]g <Plug>(coc-diagnostic-next)

" GoTo code navigation.
nmap <silent> gd <Plug>(coc-definition)
nmap <silent> gy <Plug>(coc-type-definition)
nmap <silent> gi <Plug>(coc-implementation)
nmap <silent> gr <Plug>(coc-references)

" Use K to show documentation in preview window.
nnoremap <silent> K :call ShowDocumentation()<CR>

function! ShowDocumentation()
  if CocAction('hasProvider', 'hover')
    call CocActionAsync('doHover')
  else
    call feedkeys('K', 'in')
  endif
endfunction

" Highlight the symbol and its references when holding the cursor.
autocmd CursorHold * silent call CocActionAsync('highlight')

noremap    [coc]   <Nop>
nmap    <Space>  [coc]
xmap    <Space>  [coc]
omap    <Space>  [coc]

" help
nmap [coc]? <CMD>map [coc]<CR>

" Symbol renaming.
nmap [coc]rn <Plug>(coc-rename)

" Formatting selected code.
xmap [coc]f  <Plug>(coc-format-selected)
nmap [coc]f  <Plug>(coc-format-selected)

augroup mygroup
  autocmd!
  " Setup formatexpr specified filetype(s).
  autocmd FileType typescript,json setl formatexpr=CocAction('formatSelected')
  " Update signature help on jump placeholder.
  autocmd User CocJumpPlaceholder call CocActionAsync('showSignatureHelp')
augroup end

" Applying codeAction to the selected region.
" Example: `<leader>aap` for current paragraph
xmap [coc]a  <Plug>(coc-codeaction-selected)
nmap [coc]a  <Plug>(coc-codeaction-selected)

" Remap keys for applying codeAction to the current buffer.
nmap [coc]ac  <Plug>(coc-codeaction)
" Apply AutoFix to problem on the current line.
nmap [coc]qf  <Plug>(coc-fix-current)

" Run the Code Lens action on the current line.
nmap [coc]cl  <Plug>(coc-codelens-action)

" Map function and class text objects
" NOTE: Requires 'textDocument.documentSymbol' support from the language server.
xmap if <Plug>(coc-funcobj-i)
omap if <Plug>(coc-funcobj-i)
xmap af <Plug>(coc-funcobj-a)
omap af <Plug>(coc-funcobj-a)
xmap ic <Plug>(coc-classobj-i)
omap ic <Plug>(coc-classobj-i)
xmap ac <Plug>(coc-classobj-a)
omap ac <Plug>(coc-classobj-a)

" Remap <C-f> and <C-b> to scroll float windows/popups
if has('nvim-0.4.0') || has('patch-8.2.0750')
  nnoremap <silent><nowait><expr> <C-f> coc#float#has_scroll() ? coc#float#scroll(1) : "\<C-f>"
  nnoremap <silent><nowait><expr> <C-b> coc#float#has_scroll() ? coc#float#scroll(0) : "\<C-b>"
  inoremap <silent><nowait><expr> <C-f> coc#float#has_scroll() ? "\<c-r>=coc#float#scroll(1)\<cr>" : "\<Right>"
  inoremap <silent><nowait><expr> <C-b> coc#float#has_scroll() ? "\<c-r>=coc#float#scroll(0)\<cr>" : "\<Left>"
  vnoremap <silent><nowait><expr> <C-f> coc#float#has_scroll() ? coc#float#scroll(1) : "\<C-f>"
  vnoremap <silent><nowait><expr> <C-b> coc#float#has_scroll() ? coc#float#scroll(0) : "\<C-b>"
endif

" Use CTRL-S for selections ranges
" Requires 'textDocument/selectionRange' support of language server
nmap <silent> <C-s> <Plug>(coc-range-select)
xmap <silent> <C-s> <Plug>(coc-range-select)

"
" ex command
"

" Add `:Format` command to format current buffer
command! -nargs=0 CcFormat :call CocActionAsync('format')

" Add `:Fold` command to fold current buffer
command! -nargs=? CcFold :call     CocAction('fold', <f-args>)

" Add `:OR` command for organize imports of the current buffer
command! -nargs=0 CcOR   :call     CocActionAsync('runCommand', 'editor.action.organizeImport')

" Add (Neo)Vim's native statusline support
" NOTE: Please see `:h coc-status` for integrations with external plugins that
" provide custom statusline: lightline.vim, vim-airline
set statusline^=%{coc#status()}%{get(b:,'coc_current_function','')}


"
" Mappings for CoCList
"

nnoremap [coclist] <Nop>
nmap <C-Space> [coclist]

" help
nmap [coclist]? <CMD>map [coclist]<CR>

" Show all diagnostics
nnoremap <silent><nowait> [coclist]a  :<C-u>CocList diagnostics<cr>
" Manage extensions
nnoremap <silent><nowait> [coclist]e  :<C-u>CocList extensions<cr>
" Show commands
nnoremap <silent><nowait> [coclist]c  :<C-u>CocList commands<cr>
" Find symbol of current document
nnoremap <silent><nowait> [coclist]o  :<C-u>CocList outline<cr>
" Search workspace symbols
nnoremap <silent><nowait> [coclist]s  :<C-u>CocList -I symbols<cr>
" Do default action for next item
nnoremap <silent><nowait> [coclist]j  :<C-u>CocNext<CR>
" Do default action for previous item
nnoremap <silent><nowait> [coclist]k  :<C-u>CocPrev<CR>
" Resume latest coc list
nnoremap <silent><nowait> [coclist]p  :<C-u>CocListResume<CR>
'''

[[plugins]] # indent可視化 https://github.com/Yggdroot/indentLine
repo = 'Yggdroot/indentLine'
hook_add = '''
" 装飾系文字を非表示にしないようにする(conceallevel)
let g:indentLine_conceallevel = 0
'''

[[plugins]]
repo = 'jupyter-vim/jupyter-vim'
hook_add = '''
let g:jupyter_highlight_cells = 0
'''

[[plugins]]
# see: https://zenn.dev/mkobayashime/articles/nvim-treesitter-dein
repo = 'nvim-treesitter/nvim-treesitter'
if   = 'has("nvim")'
hook_post_update = 'TSUpdate'
lua_post_source = '''
require("nvim-treesitter.configs").setup {
  -- ここでハイライトしたい言語を指定しておくと、起動時にインストールされます
  ensure_installed = {
    "vim", "help", "query", "lua",
    "dockerfile",
    "typescript", "tsx", "javascript",
    "gitignore",
    "bash",
    "markdown",
    "json", "yaml", "toml",
    "css", "scss",
    "html",
    "scala"
  },
  highlight = {
    enable = true, -- ハイライトを有効化
    additional_vim_regex_highlighting = false, -- catpuucin用
    disable = {},
  },
　indent ={
　　enable =true,--言語に応じた自動インデントを有効化
  　disable ={"html"},-- htmlのインデントだけ無効化
　},
  autotag = {
    enable = true,
  },
}
'''

#
# ddu.vim
#

[[plugins]]
repo = 'vim-denops/denops.vim'
[[plugins]]
repo = 'Shougo/ddu.vim'
hook_add = '''
function! IfNvim(nvimValue, vimValue)
  return has('nvim') ?  a:nvimValue : a:vimValue
endfunction


" Note: ff ui
" https://github.com/Shougo/ddu-ui-ff
call ddu#custom#patch_global({
\   'ui': 'filer',
\   'actionOptions': {
\     'narrow': {
\       'quit': v:false,
\     },
\   },
\   'sources': [
\     {'name': 'file', 'params': {}},
\     {'name': 'file_old', 'params': {}},
\   ],
\   'sourceOptions': {
\     'file': {
\       'matchers': ['matcher_hidden'],
\       'columns': ['filename'],
\     },
\     'buffer': {
\       'matchers': ['matcher_substring'],
\       'columns': [],
\     },
\   },
\   'kindOptions': {
\     'file': {
\       'defaultAction': 'open',
\     },
\   },
\   'uiParams': {
\     'ff': {
\       'startFilter': v:false,
\       'prompt': '> ',
\       'split': IfNvim('floating', 'no'),
\     },
\     'filer': {
\       'split': IfNvim('floating', 'no'),
\       'previewFloating': v:true,
\       'sort': 'filename',
\     }
\   },
\ })


" prefix key
nnoremap    [ddu]   <Nop>
nmap    <C-q>  [ddu]

nmap <silent> [ddu]? <Cmd>map [ddu]<CR>

nmap <silent> [ddu]f <Cmd>call ddu#start({})<CR>

nmap <silent> [ddu]b <Cmd>call ddu#start({
\   'ui': 'ff',
\   'sources': [{'name': 'buffer'}],
\ })<CR>


" ddu filer UI内の操作
autocmd FileType ddu-filer call s:ddu_filer_settings()
function! s:ddu_filer_settings() abort
  nnoremap <buffer><silent> <CR>
        \ <Cmd>call ddu#ui#filer#do_action('itemAction')<CR>
  nnoremap <buffer><silent> <Space>
        \ <Cmd>call ddu#ui#filer#do_action('toggleSelectItem')<CR>
  nnoremap <buffer> o
        \ <Cmd>call ddu#ui#filer#do_action('expandItem', {'mode': 'toggle'})<CR>
  nnoremap <buffer><silent> p
    \ <Cmd>call ddu#ui#filer#do_action('preview')<CR>
  nnoremap <buffer><silent> <S-CR>
        \ <Cmd>call ddu#ui#filer#do_action('itemAction', {'name': 'cd'})<CR>

  " quit
  nnoremap <buffer><silent> q
        \ <Cmd>call ddu#ui#filer#do_action('quit')<CR>
  nnoremap <buffer><silent> <ESC>
        \ <Cmd>call ddu#ui#filer#do_action('quit')<CR>

  " toggle hidden files
  nnoremap <buffer> I
    \ <Cmd>call ddu#ui#filer#do_action('updateOptions', {
    \   'sourceOptions': {
    \     'file': {
    \       'matchers': ToggleHidden(),
    \     },
    \   },
    \ })<CR>

  function! ToggleHidden()
    let current = ddu#custom#get_current(b:ddu_ui_name)
    let source_options = get(current, 'sourceOptions', {})
    let source_options_all = get(source_options, '_', {})
    let matchers = get(source_options_all, 'matchers', [])
    return empty(matchers) ? ['matcher_hidden'] : []
  endfunction
endfunction


" ddu ff UI内の操作
autocmd FileType ddu-ff call s:ddu_ff_settings()
function! s:ddu_ff_settings() abort
  nnoremap <buffer><silent> <CR>
    \ <Cmd>call ddu#ui#ff#do_action('itemAction', {'name': 'open'})<CR>

  nnoremap <buffer><silent> <Space>
    \ <Cmd>call ddu#ui#ff#do_action('itemAction', {'name': 'open', 'params': {'command': 'vsplit'}})<CR>

  nnoremap <buffer><silent> d
    \ <Cmd>call ddu#ui#ff#do_action('itemAction', {'name': 'delete'})<CR>

  nnoremap <buffer><silent> a
    \ <Cmd>call ddu#ui#ff#do_action('openFilterWindow')<CR>

  nnoremap <buffer><silent> p
    \ <Cmd>call ddu#ui#ff#do_action('preview')<CR>

  nnoremap <buffer><silent> q
    \ <Cmd>call ddu#ui#ff#do_action('quit')<CR>
  nnoremap <buffer><silent> <Esc>
    \ <Cmd>call ddu#ui#ff#do_action('quit')<CR>
endfunction

" ddu filter内の操作
autocmd FileType ddu-ff-filter call s:ddu_ff_filter_settings()
function! s:ddu_ff_filter_settings() abort
  inoremap <buffer><silent> <CR>  <Esc><Cmd>close<CR>
  nnoremap <buffer><silent> <CR>  <Cmd>close<CR>

  inoremap <buffer><silent> <Esc> <Esc><Cmd>call ddu#ui#ff#do_action('quit')<CR>
  nnoremap <buffer><silent> <Esc> <Cmd>call ddu#ui#ff#do_action('quit')<CR>
endfunction
'''
[[plugins]]
repo = 'Shougo/ddu-ui-ff'
[[plugins]]
repo = 'Shougo/ddu-ui-filer'
[[plugins]]
repo = 'Shougo/ddu-column-filename'
[[plugins]]
repo = 'Shougo/ddu-source-file'
[[plugins]]
repo = 'Shougo/ddu-source-file_old'
[[plugins]]
repo = 'shun/ddu-source-buffer'
[[plugins]]
repo = 'Shougo/ddu-filter-matcher_substring'
[[plugins]]
repo = 'Shougo/ddu-filter-matcher_hidden'
[[plugins]]
repo = 'Shougo/ddu-kind-file'



#
# Fern
# うまくpluginが動かないのと操作感覚が微妙だった
#
#
# [[plugins]]
# repo = 'lambdalisue/fern.vim'
# hook_add = '''
# echom "Fern setting"
# function! s:fern_settings() abort
#   " Use 'select' instead of 'edit' for default 'open' action
#   " nmap <buffer> <Plug>(fern-action-open) <Plug>(fern-action-open:select)
#
#   nmap <silent> <buffer> p     <Plug>(fern-action-preview:toggle)
#   nmap <silent> <buffer> <C-p> <Plug>(fern-action-preview:auto:toggle)
#   nmap <silent> <buffer> <C-d> <Plug>(fern-action-preview:scroll:down:half)
#   nmap <silent> <buffer> <C-u> <Plug>(fern-action-preview:scroll:up:half)
# endfunction
#
# augroup fern-custom
#   autocmd! *
#   autocmd FileType fern call s:fern_settings()
# augroup END
# '''
#
# [[plugins]]
# repo = 'lambdalisue/nerdfont.vim'
# [[plugins]]
# repo = 'lambdalisue/glyph-palette.vim'
# [[plugins]]
# repo = 'lambdalisue/fern-renderer-nerdfont.vim'
# [[plugins]]
# repo = 'lambdalisue/fern-git-status.vim'
# [[plugins]]
# repo = 'yuki-yano/fern-preview.vim'



# diff表示が微妙なので利用せず
# [[plugins]]
# # 単語ごとのdiff
# repo = 'rickhowe/diffchar.vim'

# シンタックスが分かりにくいのでOFF
# [[plugins]]
# # カーソル下に応じてファイルタイプ変更
# repo = 'osyo-manga/vim-precious'
# depens = 'context_filetype.vim'

# coc.nvimで十分っぽいので無効化
# [[plugins]]
# # 入力候補表示
# # install: 'pip3 install --user pynvim'
# repo = 'Shougo/deoplete.nvim'
# depends = 'context_filetype.vim'
# on_event = 'InsertEnter'
# hook_source = '''
# let g:deoplete#enable_at_startup = 1
# let g:deoplete#disable_auto_complete = 1
# inoremap <expr> <C-n>  deoplete#mappings#manual_complete()
# '''
#
# [[plugins]]
# # deoplete.nvimから依存. neovimで無いとき必要
# repo = 'roxma/nvim-yarp'
# if   = '! has("nvim")'
# on_source = ['deoplete.nvim']
#
# [[plugins]]
# # deoplete.nvimから依存. neovimで無いとき必要
# repo = 'roxma/vim-hug-neovim-rpc'
# if   = '! has("nvim")'
# on_source = ['deoplete.nvim']

#[[plugins]]
# カーソルが飛びすぎるので使うのやめる
## vim-smartword : 単語移動がスマートな感じで
#repo = 'vim-scripts/smartword'
#hook_add = '''
#map w  <Plug>(smartword-w)
#map b  <Plug>(smartword-b)
#map e  <Plug>(smartword-e)
#map ge  <Plug>(smartword-ge)
#'''

# 暴発して使いにくいので無効
#[[plugins]]
## multi cursor 操作
## https://github.com/terryma/vim-multiple-cursors
#repo = 'terryma/vim-multiple-cursors'
#hook_add = '''
#" 始動キーを <C-n> は使っているので変える
#let g:multi_cursor_start_word_key      = '<C-m>'
#'''


# [[plugins]]
# # unite.vim
# repo = 'Shougo/unite.vim'
# hook_add = '''
# " The prefix key.
# nnoremap    [unite]   <Nop>
# nmap    <C-q>  [unite]
#
# nnoremap [unite]u  :<C-u>Unite -no-split<Space>
# nnoremap <silent> [unite]a  :<C-u>UniteWithCurrentDir -no-split -buffer-name=files buffer file_mru bookmark file<CR>
# nnoremap <silent> [unite]f  :<C-u>Unite -no-split -buffer-name=files file<CR>
# nnoremap <silent> [unite]b  :<C-u>Unite -no-split buffer<CR>
# nnoremap <silent> [unite]m  :<C-u>Unite -no-split file_mru<CR>
#
# " grep検索
# nnoremap <silent> [unite]g  :<C-u>Unite grep:. -buffer-name=search-buffer<CR>
# " カーソル位置の単語をgrep検索
# nnoremap <silent> [unite]gr :<C-u>Unite grep:. -buffer-name=search-buffer<CR><C-R><C-W>
# " grep検索結果の再呼出
# nnoremap <silent> [unite]gg  :<C-u>UniteResume search-buffer<CR>
#
# autocmd FileType unite call s:unite_my_settings()
# function! s:unite_my_settings() "{{{
#   " Overwrite settings.
#   imap <buffer> <C-j>    <Plug>(unite_insert_leave)
#   imap <buffer> <C-BS>   <Plug>(unite_delete_backward_path)
#   " Start insert.
# endfunction "}}}
#
# let g:unite_enable_start_insert = 0
# let g:unite_source_file_mru_limit = 200
# let g:unite_enable_ignore_case = 1
# let g:unite_enable_smart_case = 1
#
# " ag はUTF-8 以外のファイルをbinary扱いしてしまうので止める
# "" unite grep に ag(The Silver Searcher) を使う
# "if executable('ag')
# "  let g:unite_source_grep_command = 'ag'
# "  let g:unite_source_grep_default_opts = '--all-types --nogroup --nocolor --column'
# "  let g:unite_source_grep_recursive_opt = ''
# "endif
#
# " ripgrep を検索に使う
# if executable('rg')
#   let g:unite_source_grep_command = 'rg'
#   let g:unite_source_grep_default_opts = '--line-number --no-heading --color never'
#   let g:unite_source_grep_recursive_opt = ''
#   "let g:unite_source_grep_encoding='utf-8'
# endif
# '''

# [[plugins]]
# # 非同期コードチェック
# #
# # 言語別linter
# # :vim: pip install vim-vint
# # :bash: npm i -g bash-language-server (https://github.com/mads-hartmann/bash-language-server)
# # :python: pip install 'python-language-server[all]'
# #
# repo = 'w0rp/ale'
# hook_add = '''
#
# " airlineでlint結果表示(FIXME なぜかちゃんと動かない)
# let g:airline#extensions#ale#enabled = 1
# let g:ale_statusline_format = ['⨉ %d', '⚠ %d', '⬥ ok']
#
# " エラー行に表示するマーク
# let g:ale_sign_error = '⨉'
# let g:ale_sign_warning = '⚠'
#
# " auto-complete
# let g:ale_completion_enabled = 0
#
# let g:ale_sign_column_always = 1
#
# " ファイルを開いたときにlint実行
# let g:ale_lint_on_enter = 1
# " pipenv使用
# let g:ale_python_auto_pipenv = 1
#
# " 言語別 デフォルト外のlinter設定
# let g:ale_linters = {
# \ 'python': ['pyls', 'pylint']
# \}
# let g:ale_fixers = {
# \ 'python': ['isort']
# \}
# '''

